<?xml version="1.0" encoding="utf-8" ?>
<Items>
  <Item
    name="Welding Tool"
    Tags="smallitem"
    pickdistance="200"
    price="100">

    <Sprite texture ="weldingtool.png"  depth="0.5"/>

    <!-- physics body -->
    <Body width="39" height="18" density="5"/>

    <!-- the character will hold the item 50 pixels in front of him, with his hands at the handle1 and handle2 positions -->
    <Holdable slots="Any,BothHands" controlpose="true"
              aimpos="50,0" handle1="-17,0" handle2="8,0"/>

    <RepairTool structurefixamount="5.0" limbfixamount="-0.5" range="100" barrelpos="19,8" particles="weld">
      <!-- the item must contain a welding fuel tank for it to work -->
      <RequiredItems name="Welding Fuel Tank" type="Contained" msg="Welding fuel required"/>

      <sound file="weldingTool.ogg" type="OnUse" range="500.0" loop="true"/>

      <!-- when using, the contained welding fuel tank will detoriate (= lose fuel) -->
      <StatusEffect type="OnUse" target="Contained" targetnames="Welding Fuel Tank" Condition="-0.7"/>

      <!-- welding a door, it will get stuck after a while -->
      <StatusEffect type="OnUse" target="UseTarget" targetnames="Door,Windowed Door" Stuck="20.0" Condition="3.0"/>
      
      <Fixable name="structure"/>

      <!-- construction skill 20 required to use the item -->
      <RequiredSkill name="Construction" level="20"/>

      <StatusEffect type="OnFailure" target="Contained" targetnames="Welding Fuel Tank,Oxygen Tank" Condition="-3.0"/>

      <LightComponent color="1.0,0.9,0.7,1.0" Flicker="0.5">
        <sprite texture="Content/Items/Electricity/lightsprite.png" origin="0.5,0.5"/>
      </LightComponent>
    </RepairTool>

    <!-- one welding fuel or oxygen tank can be contained inside the welding tool -->    
    <ItemContainer capacity="1" hideitems="false" itempos="-17,-21">
      <Containable name="Welding Fuel Tank"/>
      <Containable name="Oxygen Tank"/>
    </ItemContainer>
  </Item>

  <Item
    name="Plasma Cutter"
    Tags="smallitem"
    pickdistance="200"
    price="100">

    <Sprite texture ="plasmacutter.png"  depth="0.5"/>

    <Body width="39" height="18" density="5"/>

    <Holdable slots="Any,BothHands" controlpose="true"
              aimpos="50,0" handle1="-12,4"/>

    <RepairTool structurefixamount="-2.0" limbfixamount="-0.5" range="100" barrelpos="19,8" particles="plasma">
      <RequiredItems name="Oxygen Tank" type="Contained" msg="Oxygen tank required"/>
      <StatusEffect type="OnUse" target="Contained" targetnames="Oxygen Tank" Condition="-0.7"/>
      <StatusEffect type="OnUse" target="UseTarget" targetnames="Door,Windowed Door" Stuck="-20.0" Condition="-3.0"/>

      <sound file="plasmaCutter.ogg" type="OnUse" range="500.0" loop="true"/>

      <Fixable name="structure"/>

      <RequiredSkill name="Construction" level="30"/>

      <StatusEffect type="OnFailure" target="Contained" targetnames="Welding Fuel Tank,Oxygen Tank" Condition="-3.0"/>

      <LightComponent color="0.1,0.8,1.0,1.0" Flicker="0.5">
        <sprite texture="Content/Items/Electricity/lightsprite.png" origin="0.5,0.5"/>
      </LightComponent>
    </RepairTool>

    <ItemContainer capacity="1" hideitems="false" itempos="9,-15">
      <Containable name="Welding Fuel Tank"/>
      <Containable name="Oxygen Tank"/>
    </ItemContainer>
  </Item>

  <Item
    name="Welding Fuel Tank"
    Tags="smallitem"
    pickdistance="150"
    price="50">

    <Sprite texture ="fueltank.png" depth="0.5"/>

    <Body radius="6" height="22" density="5"/>

    <Holdable slots="RightHand,Any" holdpos="30,-15" handle1="0,5" handle2="0,-5">
      <StatusEffect type="OnWearing" target="This" Condition="-0.5"/>
      <StatusEffect type="OnWearing" target="Character" Oxygen="-40.0"/>
      
      <StatusEffect type="OnFire" target="This" Condition="-100.0" sound="Content/Items/Reactor/explosion.ogg" disabledeltatime="true">
        <Explosion range="500.0" structuredamage="100" damage="200" stun="5" force="3.0"/>
      </StatusEffect>
    </Holdable>
  </Item>

  <Item
    name="Screwdriver"
    Tags="smallitem"
    pickdistance="200"
    price="10">

    <Sprite texture ="screwdriver.png" depth="0.5"/>

    <Body width="30" height="8" density="20"/>

    <Holdable slots="Any,RightHand,LeftHand" 
              holdangle="30" handle1="-5,0"/>

  </Item>

  <Item
    name="Wrench"
    Tags="smallitem"
    pickdistance="200"
    price="10">

    <Sprite texture ="wrench.png" depth="0.5"/>

    <Body width="30" height="8" density="20"/>

    <MeleeWeapon slots="Any,RightHand,LeftHand"
          aimpos="50,0" handle1="0,0" holdangle="30" reload="1.0">
      <Attack damage="5" stun="0.2" damagetype="Blunt" sound="Content/Items/Weapons/smack.ogg"/>
    </MeleeWeapon>

  </Item>

</Items>